<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Crypto Lending Offers — 5% APR (Minimal Columns + Robust Logos)</title>
  <meta name="description" content="Professional crypto lending desk. Full asset list; table shows Name, Symbol, Amount, Monthly/Yearly interest per coin at 5% APR. Robust logo fallbacks. Bottom calculator with coin picker." />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html{scroll-behavior:smooth}
    body{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
    .card{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03))}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}
    .sticky-th th{position:sticky;top:0;background-color:rgb(2 6 23/.85);backdrop-filter:saturate(160%) blur(4px)}
    .chip{font-size:11px;padding:.25rem .5rem;border-radius:9999px}
    .logo{height:24px;width:24px;border-radius:9999px;object-fit:cover}
    .placeholder{height:24px;width:24px;border-radius:9999px;display:grid;place-items:center;background:rgba(148,163,184,.15);color:#cbd5e1;font-size:10px;font-weight:700}
  </style>
</head>
<body class="bg-slate-950 text-slate-100">
  <header class="sticky top-0 z-40 border-b border-white/10 bg-slate-950/75 backdrop-blur">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="h-9 w-9 rounded-xl bg-cyan-500/15 ring-1 ring-cyan-400/30 grid place-items-center text-cyan-300 font-black">PV</div>
        <div>
          <p class="text-sm text-slate-300">Lending Desk</p>
          <h1 class="text-lg font-semibold">Crypto Lending Offers — 5% APR</h1>
        </div>
      </div>
      <nav class="hidden md:flex items-center gap-3 text-sm text-slate-300">
        <a class="hover:text-white" href="#offers">Offers</a>
        <a class="hover:text-white" href="#calc">Calculator</a>
        <a class="rounded-xl bg-cyan-400/20 text-cyan-200 px-4 py-2 hover:bg-cyan-400/30" href="#contact">Inquire</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section class="relative">
      <div class="absolute inset-0 bg-[radial-gradient(60%_60%_at_10%_0%,rgba(56,189,248,0.18),transparent),radial-gradient(40%_50%_at_90%_0%,rgba(56,189,248,0.12),transparent)]"></div>
      <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-14">
        <div class="max-w-4xl space-y-4">
          <h2 class="text-4xl sm:text-5xl font-extrabold leading-tight tracking-tight">Clean, compliant, and clear.</h2>
          <p class="text-slate-300">The table shows only: <strong>Name</strong>, <strong>Symbol</strong>, <strong>Amount</strong>, <strong>Monthly Interest / Coin</strong>, and <strong>Yearly Interest / Coin</strong> at a fixed <span class="font-semibold text-slate-100">5% APR</span>. Live pricing for majors (if enabled) updates the interest calculations—but prices remain hidden.</p>
          <div class="text-xs text-slate-400">Estimates only—not financial advice. Not an offer or solicitation. Terms subject to approval, KYC/AML, and availability.</div>
        </div>
      </div>
    </section>

    <!-- Offers -->
    <section id="offers" class="border-t border-white/10">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12 space-y-4">
        <div class="card rounded-2xl p-4 ring-1 ring-white/10">
          <div class="flex flex-wrap items-center gap-3">
            <input id="q" type="search" placeholder="Search by name or symbol…" class="w-full sm:w-72 rounded-xl bg-white/5 border border-white/10 px-4 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-400/40" />
            <select id="sort" class="rounded-xl bg-white/5 border border-white/10 px-3 py-2 text-sm">
              <option value="year_desc">Sort by Yearly / Coin (high→low)</option>
              <option value="year_asc">Sort by Yearly / Coin (low→high)</option>
              <option value="name_asc">Name (A→Z)</option>
              <option value="name_desc">Name (Z→A)</option>
            </select>
            <label class="inline-flex items-center gap-2 text-sm ml-2">
              <input id="liveToggle" type="checkbox" class="h-4 w-4" checked>
              <span>Live prices for majors</span>
              <span id="liveStatus" class="chip bg-emerald-400/20 text-emerald-300">Live</span>
            </label>
            <div class="ml-auto text-sm text-slate-400">APR: <span id="aprLabel">5%</span> · Assets: <span id="assetCount">0</span></div>
          </div>
        </div>

        <div class="overflow-auto rounded-2xl ring-1 ring-white/10">
          <table class="min-w-full text-sm">
            <thead class="sticky-th text-left text-slate-200">
              <tr>
                <th class="px-4 py-3">Asset</th>
                <th class="px-4 py-3">Symbol</th>
                <th class="px-4 py-3 text-right">Amount</th>
                <th class="px-4 py-3 text-right">Monthly Interest / Coin</th>
                <th class="px-4 py-3 text-right">Yearly Interest / Coin</th>
              </tr>
            </thead>
            <tbody id="rows" class="divide-y divide-white/5"></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Calculator -->
    <section id="calc" class="border-t border-white/10">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12">
        <div class="card rounded-2xl p-6 ring-1 ring-white/10 grid md:grid-cols-2 gap-6 items-start">
          <div>
            <h3 class="text-2xl font-bold mb-2">Loan Cost Calculator</h3>
            <p class="text-slate-300 mb-4">Pick a coin, or enter custom values. Interest assumes simple APR with equal monthly accrual.</p>
            <div class="grid grid-cols-2 gap-3 mb-3">
              <label class="block text-sm col-span-2">Select Coin
                <select id="coinSelect" class="mt-1 w-full rounded-xl bg-white/5 border border-white/10 px-3 py-2 text-sm"></select>
              </label>
              <label class="block text-sm">Amount (coins)
                <input id="cAmt" type="number" step="any" class="mt-1 w-full rounded-xl bg-white/5 border border-white/10 px-3 py-2" />
              </label>
              <label class="block text-sm">Price / Coin ($)
                <input id="cPpc" type="number" step="any" class="mt-1 w-full rounded-xl bg-white/5 border border-white/10 px-3 py-2" />
              </label>
              <label class="block text-sm">APR (%)
                <input id="cApr" type="number" step="any" value="5" class="mt-1 w-full rounded-xl bg-white/5 border border-white/10 px-3 py-2" />
              </label>
              <label class="block text-sm">Term (months)
                <input id="cMonths" type="number" step="1" value="12" class="mt-1 w-full rounded-xl bg-white/5 border border-white/10 px-3 py-2" />
              </label>
            </div>
            <div class="mt-2 text-sm space-y-1">
              <div>Total Notional: <span id="cNotional" class="font-semibold"></span></div>
              <div>Monthly Interest: <span id="cMonthly" class="font-semibold"></span></div>
              <div>Total Interest (term): <span id="cTotal" class="font-semibold"></span></div>
            </div>
          </div>
          <div>
            <h4 class="font-semibold mb-2">Quick Pick (Top by Yearly/coin)</h4>
            <div id="quick" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-2"></div>
            <p class="text-xs text-slate-400 mt-3">Note: Results are estimates only. Final terms may vary based on availability and risk.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="border-t border-white/10">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12">
        <div class="card rounded-2xl p-6 ring-1 ring-white/10 flex flex-col md:flex-row md:items-center md:justify-between gap-6">
          <div>
            <h3 class="text-2xl font-bold">Request a quote</h3>
            <p class="text-slate-300">Email <a class="text-cyan-300 hover:underline" href="mailto:paytontvirgil@gmail.com?subject=Crypto%20Lending%20Inquiry">paytontvirgil@gmail.com</a> with the assets and term you want.</p>
          </div>
          <a href="#offers" class="rounded-xl border border-white/15 px-5 py-3 hover:bg-white/5">Back to Assets</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="border-t border-white/10 py-8">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row items-center justify-between gap-4">
      <p class="text-sm text-slate-400">© <span id="year"></span> Payton Virgil · 5% APR · Interest shown per coin.</p>
      <p class="text-xs text-slate-500">Logos use best‑effort fallbacks; if none are available an initials badge is shown.</p>
    </div>
  </footer>

  <script>
    const APR = 0.05; // 5%
    const fmtUSD = new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',maximumFractionDigits:6});
    const fmtNum = new Intl.NumberFormat('en-US');

    // === LOGO HELPERS ===
    const OVERRIDE_LOGOS = {
      BTC: 'https://cryptologos.cc/logos/bitcoin-btc-logo.png',
      ETH: 'https://cryptologos.cc/logos/ethereum-eth-logo.png',
      SOL: 'https://cryptologos.cc/logos/solana-sol-logo.png',
      BNB: 'https://cryptologos.cc/logos/bnb-bnb-logo.png',
      USDT: 'https://cryptologos.cc/logos/tether-usdt-logo.png',
      DOGE: 'https://cryptologos.cc/logos/dogecoin-doge-logo.png',
      SHIB: 'https://cryptologos.cc/logos/shiba-inu-shib-logo.png',
      TON: 'https://cryptologos.cc/logos/toncoin-ton-logo.png',
      BCH: 'https://cryptologos.cc/logos/bitcoin-cash-bch-logo.png',
      ICP: 'https://cryptologos.cc/logos/internet-computer-icp-logo.png',
      STX: 'https://cryptologos.cc/logos/stacks-stx-logo.png',
      APE: 'https://cryptologos.cc/logos/apecoin-ape-ape-logo.png',
      CAKE: 'https://cryptologos.cc/logos/pancakeswap-cake-logo.png',
      MATIC: 'https://cryptologos.cc/logos/polygon-matic-logo.png',
    };
    const LOGO_BASE = 'https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/128';
    function makeLogoHTML(name, symbol){
      const s = (symbol||'').toLowerCase().replace(/[^a-z0-9]/g,'');
      const override = OVERRIDE_LOGOS[symbol?.toUpperCase?.()];
      const first = override || `${LOGO_BASE}/color/${s}.png`;
      const alt = `${LOGO_BASE}/black/${s}.png`;
      const initials = (symbol||name||'?').replace(/[^A-Za-z0-9]/g,'').slice(0,3).toUpperCase();
      return `<img src="${first}" data-alt="${alt}" alt="${symbol||name} logo" class="logo ring-1 ring-white/10" onerror="if(!this.dataset.tried){this.dataset.tried=1;this.src=this.dataset.alt;}else{this.replaceWith(Object.assign(document.createElement('div'),{className:'placeholder',textContent:'${initials}'}));}">`;
    }

    // Live price for majors (to compute interest per coin only)
    const CG_IDS = {
      BTC:'bitcoin', ETH:'ethereum', SOL:'solana', BNB:'binancecoin', USDT:'tether',
      MATIC:'matic-network', DOGE:'dogecoin', SHIB:'shiba-inu', TON:'toncoin',
      BCH:'bitcoin-cash', ICP:'internet-computer', APE:'apecoin', STX:'stacks', CAKE:'pancakeswap-token'
    };
    let livePrices = {};
    async function fetchLivePrices(){
      const ids = Object.values(CG_IDS).join(',');
      const url = `https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${encodeURIComponent(ids)}&price_change_percentage=24h`;
      try{
        const res = await fetch(url,{headers:{'accept':'application/json'}});
        if(!res.ok) throw new Error('HTTP '+res.status);
        const json = await res.json();
        const map = {};
        for(const c of json){
          const sym = Object.keys(CG_IDS).find(k=>CG_IDS[k]===c.id);
          if(!sym) continue; map[sym] = { price:c.current_price, image:c.image };
        }
        livePrices = map; document.getElementById('liveStatus').textContent='Live';
        document.getElementById('liveStatus').className='chip bg-emerald-400/20 text-emerald-300';
        render();
      }catch(e){
        console.warn('Live price fetch failed',e);
        document.getElementById('liveStatus').textContent='Offline';
        document.getElementById('liveStatus').className='chip bg-amber-400/20 text-amber-300';
      }
    }

    // === DATA (full list you provided earlier) ===
    const DATA = [
      { name:'Gem', symbol:'GEM', amount:99958000, price:27.00 },
      { name:'Dogecoin', symbol:'DOGE', amount:28710538, price:0.21 },
      { name:'TrumpVance', symbol:'TRUMPVANCE', amount:10000000, price:0.50 },
      { name:'Kekistan', symbol:'KEKISTAN', amount:10000000, price:0.30 },
      { name:'Shadilay', symbol:'SHADILAY', amount:10000000, price:0.30 },
      { name:'Ancapistan', symbol:'ANCAPISTAN', amount:10000000, price:0.20 },
      { name:'Vance', symbol:'VANCE', amount:10000000, price:0.10 },
      { name:'JohnGalt', symbol:'JOHNGALT', amount:10000000, price:0.10 },
      { name:'Trump2016', symbol:'TRUMP2016', amount:10000000, price:0.10 },
      { name:'Bitcoin', symbol:'BTC', amount:6, price:114703.34 },
      { name:'Madlads', symbol:'MADLADS', amount:10000000, price:0.05 },
      { name:'Libertaria', symbol:'LIBERTARIA', amount:10000000, price:0.05 },
      { name:'PepeTheFrog', symbol:'PEPE', amount:10000000, price:0.05 },
      { name:'Hide The Pain Harold', symbol:'HAROLD', amount:10000000, price:0.05 },
      { name:'SuccessKid', symbol:'SUCCESSKID', amount:10000000, price:0.05 },
      { name:'Distracted Boyfriend', symbol:'DISTRACTED', amount:10000000, price:0.05 },
      { name:'Grumpy Cat', symbol:'GRUMPYCAT', amount:10000000, price:0.05 },
      { name:'This Is Fine Dog', symbol:'THISISFINE', amount:10000000, price:0.05 },
      { name:'Bills Mafia', symbol:'BILLS', amount:10000000, price:0.05 },
      { name:'Suprised Pikachu', symbol:'PIKACHU', amount:10000000, price:0.05 },
      { name:'Change My Mind', symbol:'CHANGEMYMIND', amount:10000000, price:0.05 },
      { name:'Roll Safe', symbol:'ROLLSAFE', amount:10000000, price:0.05 },
      { name:'Ight Imma Head Out', symbol:'IMMAHEADOUT', amount:10000000, price:0.05 },
      { name:'Buffalo Token', symbol:'BUFF', amount:141350000, price:0.001 },
      { name:'Ethereum', symbol:'ETH', amount:6, price:3677.76 },
      { name:'Telegram Drops', symbol:'TDROP', amount:10000, price:1.00 },
      { name:'Pi Coin', symbol:'PI', amount:2289, price:1.71 },
      { name:'BNB', symbol:'BNB', amount:6, price:569.26 },
      { name:'RUBI Coin', symbol:'RUBI', amount:437, price:5.54 },
      { name:'Bee', symbol:'BEE', amount:2664, price:0.80 },
      { name:'Tether', symbol:'USDT', amount:1838, price:1.00 },
      { name:'Remint', symbol:'REMINT', amount:3145, price:0.50 },
      { name:'Dream', symbol:'DREAM', amount:25119, price:0.06 },
      { name:'Social Good', symbol:'SG', amount:3999, price:0.23 },
      { name:'Solana', symbol:'SOL', amount:6, price:140.00 },
      { name:'Shiba Inu', symbol:'SHIB', amount:28570000, price:0.00002 },
      { name:'Otara', symbol:'OTARA', amount:114, price:5.00 },
      { name:'Nitrogen Coin', symbol:'NITROGEN', amount:500, price:1.07 },
      { name:'DB Network', symbol:'DB', amount:23056, price:0.02 },
      { name:'TIME Coin', symbol:'TIME', amount:37137, price:0.01 },
      { name:'Star Coin', symbol:'STAR', amount:4577, price:0.06 },
      { name:'Sidra', symbol:'SIDRA', amount:108, price:2.30 },
      { name:'Alpha Coin', symbol:'ALPHA', amount:19418, price:0.01 },
      { name:'Nova Coin', symbol:'NOVA', amount:1652, price:0.08 },
      { name:'Eagle Token', symbol:'EGON', amount:6167, price:0.01 },
      { name:'Ton', symbol:'TON', amount:10, price:5.78 },
      { name:'P2P', symbol:'P2P', amount:60, price:0.65 },
      { name:'Bitcoin Cash', symbol:'BCH', amount:0.1, price:380.31 },
      { name:'Phi', symbol:'PHI', amount:380, price:0.06 },
      { name:'Internet Computer', symbol:'ICP', amount:2, price:7.93 },
      { name:'Cheatmoon', symbol:'CTM', amount:313414, price:0.00005 },
      { name:'PancakeSwap', symbol:'CAKE', amount:7, price:2.12 },
      { name:'Blockrium', symbol:'BRC', amount:761, price:0.02 },
      { name:'cPen', symbol:'PEN', amount:319, price:0.04 },
      { name:'Opincur', symbol:'CIO', amount:921, price:0.01 },
      { name:'Fantom', symbol:'FTT', amount:6, price:1.38 },
      { name:'Polygon', symbol:'MATIC', amount:11, price:0.55 },
      { name:'Nodle', symbol:'NODL', amount:935, price:0.004 },
      { name:'Stacks', symbol:'STX', amount:6, price:0.65 },
      { name:'Coughing Cat', symbol:'CCT', amount:0.6, price:6.08 },
      { name:'World Chain', symbol:'WCN', amount:8750, price:0.0003 },
      { name:'Fone', symbol:'FONE', amount:470, price:0.004 },
      { name:'Co-Met Network', symbol:'COMET', amount:1618, price:0.001 },
      { name:'ApeCoin', symbol:'APE', amount:2, price:0.98 },
      { name:'Bitcoin Legend', symbol:'BCL', amount:9459, price:0.0001 },
      { name:'Szabo', symbol:'SZABO', amount:499, price:0.001 },
      { name:'Metro Coin', symbol:'METRO', amount:24, price:0.02 },
      { name:'Omega coin', symbol:'OMN', amount:44, price:0.01 },
      { name:'Robox', symbol:'ROX', amount:0.3, price:1.00 },
      { name:'TTCoin', symbol:'TC', amount:1900, price:0.0001 },
      { name:'Litchi Coin', symbol:'LITCHI', amount:2199, price:0.0001 },
      { name:'ProjectEarth', symbol:'PE', amount:189, price:0.001 },
      { name:'Neural Hash', symbol:'NRH', amount:1, price:0.13 },
      { name:'Midoin', symbol:'MDN', amount:0.5, price:0.16 },
      { name:'Mobile Coin', symbol:'MBC', amount:1, price:0.02 },
      { name:'Li Coin', symbol:'LI', amount:600, price:0.00003 },
      { name:'MinexCoin', symbol:'MNX', amount:0.2, price:0.03 },
      { name:'Qubit', symbol:'QUBIT', amount:412, price:0.000003 },
      { name:'Atalis Network', symbol:'ALS', amount:3, price:0.0001 },
      { name:'Orbaic', symbol:'ACI', amount:8, price:0.0000004 },
      { name:'Bubble', symbol:'BBLE', amount:3150, price:0.0000000000002 },
    ];

    function rowHTML(x){
      const live = document.getElementById('liveToggle').checked && livePrices[x.symbol];
      const price = live ? livePrices[x.symbol].price : x.price;
      const m = price * (APR/12);
      const y = price * APR;
      const logo = makeLogoHTML(x.name, x.symbol);
      return `<tr class="hover:bg-white/5">
        <td class="px-4 py-3"><div class="flex items-center gap-3">${logo}<div class="font-medium">${x.name}</div></div></td>
        <td class="px-4 py-3 mono">${x.symbol}</td>
        <td class="px-4 py-3 text-right">${fmtNum.format(x.amount)}</td>
        <td class="px-4 py-3 text-right">${fmtUSD.format(m)}</td>
        <td class="px-4 py-3 text-right font-medium">${fmtUSD.format(y)}</td>
      </tr>`;
    }

    function render(){
      const q = document.getElementById('q').value.trim().toLowerCase();
      const sort = document.getElementById('sort').value;
      const filtered = DATA.filter(x => `${x.name} ${x.symbol}`.toLowerCase().includes(q));
      const rows = filtered.slice();
      rows.sort((a,b)=>{
        const ay = (document.getElementById('liveToggle').checked && livePrices[a.symbol] ? livePrices[a.symbol].price : a.price) * APR;
        const by = (document.getElementById('liveToggle').checked && livePrices[b.symbol] ? livePrices[b.symbol].price : b.price) * APR;
        switch(sort){
          case 'year_asc': return ay - by;
          case 'name_asc': return a.name.localeCompare(b.name);
          case 'name_desc': return b.name.localeCompare(a.name);
          case 'year_desc':
          default: return by - ay;
        }
      });
      document.getElementById('rows').innerHTML = rows.map(rowHTML).join('') || `<tr><td colspan="5" class="px-4 py-6 text-center text-slate-400">No matches</td></tr>`;
      document.getElementById('assetCount').textContent = rows.length;
      document.getElementById('aprLabel').textContent = `${(APR*100).toFixed(0)}%`;

      // Quick picks and calculator select
      buildQuick(rows.slice(0,9));
      buildCoinSelect(rows);
    }

    function buildQuick(list){
      const el = document.getElementById('quick'); if(!el) return;
      el.innerHTML = list.map(x => `<button class="rounded-lg border border-white/10 px-3 py-2 text-left hover:bg-white/5" data-sym="${x.symbol}">
        <div class="text-sm font-medium">${x.name} <span class="text-slate-400 mono">(${x.symbol})</span></div>
        <div class="text-xs text-slate-400">Coins ${fmtNum.format(x.amount)} · Interest/yr ${fmtUSD.format((livePrices[x.symbol]?.price || x.price) * APR)}</div>
      </button>`).join('');
      el.querySelectorAll('button').forEach(btn => btn.addEventListener('click', ()=>{
        const sym = btn.getAttribute('data-sym');
        const x = DATA.find(r => r.symbol === sym);
        if(!x) return;
        const live = document.getElementById('liveToggle').checked && livePrices[sym];
        document.getElementById('cAmt').value = x.amount;
        document.getElementById('cPpc').value = live ? livePrices[sym].price : x.price;
        document.getElementById('coinSelect').value = sym;
        document.getElementById('cApr').value = APR*100;
        updateCalc();
        document.getElementById('calc').scrollIntoView({behavior:'smooth'});
      }));
    }

    function buildCoinSelect(options){
      const sel = document.getElementById('coinSelect');
      sel.innerHTML = options.map(x => `<option value="${x.symbol}">${x.name} (${x.symbol})</option>`).join('');
      sel.onchange = ()=>{
        const sym = sel.value;
        const x = DATA.find(r => r.symbol === sym);
        if(!x) return;
        const live = document.getElementById('liveToggle').checked && livePrices[sym];
        document.getElementById('cAmt').value = x.amount;
        document.getElementById('cPpc').value = live ? livePrices[sym].price : x.price;
        document.getElementById('cApr').value = APR*100;
        updateCalc();
      };
      if(options[0]){
        const first = options[0]; sel.value = first.symbol;
        const live = document.getElementById('liveToggle').checked && livePrices[first.symbol];
        document.getElementById('cAmt').value = first.amount;
        document.getElementById('cPpc').value = live ? livePrices[first.symbol].price : first.price;
        document.getElementById('cApr').value = APR*100;
        updateCalc();
      }
    }

    function updateCalc(){
      const amt = parseFloat(document.getElementById('cAmt').value||'0');
      const ppc = parseFloat(document.getElementById('cPpc').value||'0');
      const aprPct = parseFloat(document.getElementById('cApr').value||'5');
      const months = parseInt(document.getElementById('cMonths').value||'12',10);
      const apr = (isFinite(aprPct) ? aprPct : 5) / 100;
      const notional = amt * ppc;
      const m = notional * (apr/12);
      const total = m * months;
      document.getElementById('cNotional').textContent = fmtUSD.format(notional);
      document.getElementById('cMonthly').textContent = fmtUSD.format(m);
      document.getElementById('cTotal').textContent = fmtUSD.format(total);
    }

    document.getElementById('q').addEventListener('input', render);
    document.getElementById('sort').addEventListener('change', render);
    document.getElementById('liveToggle').addEventListener('change', render);

    document.getElementById('year').textContent = new Date().getFullYear();
    render();
    fetchLivePrices();
    setInterval(()=>{ if(document.getElementById('liveToggle').checked) fetchLivePrices(); }, 60000);

    // sanity checks
    (function(){
      console.assert(Array.isArray(DATA) && DATA.length>0, 'DATA loaded');
      const m = 100 * (APR/12); console.assert(Math.abs(m - (100*0.05/12))<1e-9,'per-coin monthly ok');
    })();
  </script>
</body>
</html>

